{"version":3,"file":"static/webpack/static\\development\\pages\\signIn.js.e9517b6efa25bb19d5c0.hot-update.js","sources":["webpack:///./components/SignUpForm.Component.jsx"],"sourcesContent":["import React,{useCallback,useEffect, useState} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux'; \r\nimport {Form,Input,Checkbox, Icon, Button} from 'antd';\r\nimport {SIGN_UP_REQUEST} from '../reducers/user'; \r\nexport const useInput = (initValue=null) => {\r\n    const [value,setter] = useState(initValue);\r\n    const handler = useCallback( (e) => {\r\n        setter(e.target.value);\r\n    }, []);\r\n    return [value, handler]; \r\n}\r\n\r\nconst SignUp = (props) => {\r\n    const [id,onChangeId] =useInput('');\r\n    const [password, onChangePassword] = useInput('');\r\n    const [passwordCheck, onChangePasswordCheck] = useInput(''); \r\n    const [checkTerm, onChangeCheckTerm] = useInput('');\r\n    const [passwordError, setpasswordError] = useInput('');\r\n    const [confirmDirty, setConfirmDirty] = useInput('');\r\n    \r\n    const {isSigningUp} = useSelector(selector => selector.user); \r\n    const {getFieldDecorator} = props.form; \r\n    \r\n    const dispatch = useDispatch(); \r\n    useEffect( (e) => {\r\n        console.log(`isSigningUp: ${isSigningUp}`);\r\n    },[isSigningUp]);\r\n\r\n    const onSubmit = useCallback((e) => {\r\n             e.preventDefault(); \r\n             if(!(id && password && passwordCheck)) {\r\n                 return false; \r\n             }\r\n             console.log({\r\n                 id,\r\n                 password,\r\n                 passwordCheck,\r\n                 checkTerm\r\n             })\r\n             dispatch({\r\n                type:SIGN_UP_REQUEST   \r\n             })\r\n    },[id,password,passwordCheck,checkTerm]);\r\n    \r\n    const compareToFirstPassword = (rule, value, callback) => {\r\n        const {form} = props; \r\n        if(value && form && value!== form.getFieldValue('password')) {\r\n            callback('비밀번호가 일치하지 않습니다!');\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    const validateToNextPassword = (rule, value, callback) => {\r\n        const {form} = props;\r\n        if(value && form && confirmDirty) {\r\n            form.validateFields(['confirm'], {force: true})\r\n        }\r\n        callback();\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Form onSubmit={onSubmit}>\r\n                <Form.Item label=\"이메일\">\r\n                    {\r\n                        getFieldDecorator('email', {\r\n                            rules: [\r\n                                {\r\n                                    type: 'email',\r\n                                    message: '올바른 이메일 형식이 아닙니다.'\r\n                                },\r\n                                {\r\n                                    required: true,\r\n                                    message: '이메일을 입력해주세요.'\r\n                                },\r\n                            ]\r\n                        })(<Input\r\n                            placeholder=\"E-mail\"\r\n                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            onChange={onChangeId}\r\n                            />)\r\n                    }\r\n                </Form.Item >\r\n                <Form.Item label=\"비밀번호\" hasFeedback>\r\n                    {getFieldDecorator('password', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '비밀번호를 입력하세요'\r\n                            },\r\n                            {\r\n                                validator: validateToNextPassword\r\n                            },\r\n                        ]\r\n                    })(<Input.Password \r\n                        placeholder=\"Password\"\r\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                        onChange = {onChangePassword}\r\n                        />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"비밀번호 확인\" hasFeedback>\r\n                    {getFieldDecorator('confirm', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '비밀번호를 다시 입력하세요'\r\n                            },\r\n                            {\r\n                                validator: compareToFirstPassword\r\n                            }\r\n                        ]\r\n                    })(<Input.Password  \r\n                        placeholder=\"Password Check\"\r\n                        prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                        onChange = {onChangePasswordCheck}\r\n                    />)}\r\n                </Form.Item>\r\n                <label htmlFor='checkbox'>회원가입 약관에 동의합니다.</label>\r\n                <Checkbox required id ='checkTerm' onChange={onChangeCheckTerm} />\r\n                <Form.Item>\r\n                    <Button \r\n                        type=\"primary\" \r\n                        htmlType=\"submit\" \r\n                        style={{float: 'right'}}\r\n                        loading={isSigningUp}\r\n                    >등록</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Form.create({name:'signUp'})(SignUp);"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAQA;AAAA;AARA;AACA;AADA;AAWA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AANA;AAYA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAFA;AAKA;AADA;AANA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAFA;AAKA;AADA;AANA;AAWA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AAAA;;;;A","sourceRoot":""}